--- Jour 6 : Garde Gallivant ---
Les historiens utilisent à nouveau leur appareil sophistiqué, cette fois pour vous emmener tous au laboratoire de fabrication du prototype de combinaison du pôle Nord... en l'an 1518 ! Il s'avère qu'avoir un accès direct à l'histoire est très pratique pour un groupe d'historiens.

Vous devez toujours faire attention aux paradoxes temporels, et il sera donc important d'éviter toute personne de 1518 pendant que les historiens recherchent le chef. Malheureusement, un seul garde patrouille dans cette partie du laboratoire.

Peut-être pouvez-vous déterminer à l'avance où le garde ira pour que les historiens puissent chercher en toute sécurité ?

Vous commencez par faire une carte (votre entrée de puzzle) de la situation. Par exemple :

....#.....
........#
..........
..#.......
.......#..
..........
.#..^.....
........#.
#.........
......#...
La carte indique la position actuelle du garde avec ^ (pour indiquer que le garde est actuellement tourné vers le haut depuis la perspective de la carte). Tous les obstacles - caisses, bureaux, réacteurs alchimiques, etc. - sont indiqués par #.

Les gardes du laboratoire de 1518 suivent un protocole de patrouille très strict qui implique de suivre à plusieurs reprises ces étapes :

S'il y a quelque chose directement devant vous, tournez à droite de 90 degrés.
Sinon, faites un pas en avant.
En suivant le protocole ci-dessus, le garde monte plusieurs fois jusqu'à atteindre un obstacle (dans ce cas, une pile de prototypes de combinaisons défaillantes) :

....#.....
....^....#
..........
..#.......
.......#..
..........
.#........
........#.
#.........
......#...
Parce qu'il y a maintenant un obstacle devant le garde, elle tourne à droite avant de continuer tout droit dans sa nouvelle direction :

....#.....
........>#
..........
..#.......
.......#..
..........
.#........
........#.
#.........
......#...
En atteignant un autre obstacle (une bobine de plusieurs polymères très longs), elle tourne à nouveau à droite et continue vers le bas :

....#.....
.........#
..........
..#.......
.......#..
..........
.#......v.
........#.
#.........
......#...
Ce processus continue pendant un certain temps, mais le garde quitte finalement la zone cartographiée (après être passé devant un réservoir de solvant universel) :

....#.....
.........#
..........
..#.......
.......#..
..........
.#........
........#.
#.........
......#v..
En prédisant l'itinéraire du garde, vous pouvez déterminer quelles positions spécifiques du laboratoire se trouveront sur le chemin de la patrouille. En incluant la position de départ du garde, les positions visitées par le garde avant de quitter la zone sont marquées d'un X :

....#.....
....XXXXX#
....X...X.
..#.X...X.
..XXXXX#X.
..X.X.X.X.
.#XXXXXXX.
.XXXXXXX#.
#XXXXXXX..
......#X..
Dans cet exemple, le garde visitera 41 positions distinctes sur votre carte.

Prédisez le chemin du garde. Combien de positions distinctes le garde visitera-t-il avant de quitter la zone cartographiée ?

Réponse : 
