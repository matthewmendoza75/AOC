--- Jour 14 : Redoubt des toilettes ---
L'un des historiens doit aller aux toilettes ; heureusement, vous savez qu'il y a des toilettes près d'un endroit non visité sur leur liste, et vous êtes donc tous rapidement téléportés directement dans le hall du quartier général d'Easter Bunny.

Malheureusement, EBHQ semble avoir encore « amélioré » la sécurité des toilettes après votre dernière visite. La zone à l'extérieur des toilettes grouille de robots !

Pour amener l'historien en toute sécurité aux toilettes, vous aurez besoin d'un moyen de prédire où les robots seront dans le futur. Heureusement, ils semblent tous se déplacer sur le sol carrelé en lignes droites prévisibles.

Vous faites une liste (votre entrée de puzzle) de toutes les positions actuelles des robots (p) et vitesses (v), un robot par ligne. Par exemple :

p=0,4 v=3,-3
p=6,3 v=-1,-3
p=10,3 v=-1,2
p=2,0 v=2,-1
p=0,0 v=1,3
p=3,0 v=-2,-2
p=7,6 v=-1,-3
p=3,0 v=-1,-2
p=9,3 v=2,3
p=7,3 v=-1,2
p=2,4 v=2,-3
p=9,5 v=-3,-3
La position de chaque robot est donnée par p=x,y où x représente le nombre de tuiles à partir du mur de gauche et y représente le nombre de tuiles à partir du mur supérieur (vu d'en haut). Ainsi, une position de p=0,0 signifie que le robot se trouve tout en haut à gauche.

La vitesse de chaque robot est donnée par v=x,y où x et y sont donnés en tuiles par seconde. Un x positif signifie que le robot se déplace vers la droite et un y positif signifie que le robot se déplace vers le bas. Ainsi, une vitesse de v=1,-2 signifie que chaque seconde, le robot se déplace d'une tuile vers la droite et de 2 tuiles vers le haut.

Les robots à l'extérieur de la salle de bain se trouvent dans un espace de 101 tuiles de large et 103 tuiles de haut (vu d'en haut). Cependant, dans cet exemple, les robots se trouvent dans un espace de seulement 11 tuiles de large et 7 tuiles de haut.

Les robots sont doués pour naviguer les uns au-dessus des autres (grâce à une combinaison de ressorts, de pieds extensibles et de quadricoptères), ils peuvent donc partager la même tuile et n'interagissent pas les uns avec les autres. Visuellement, le nombre de robots sur chaque tuile dans cet exemple ressemble à ceci :

1,12.......
...........
...........
......11,11
1,1........
.........1.
.......1...
Ces robots ont une caractéristique unique pour une sécurité maximale dans la salle de bains : ils peuvent se téléporter. Lorsqu'un robot se heurte à un bord de l'espace dans lequel il se trouve, il se téléporte à la place de l'autre côté, en s'enroulant efficacement autour des bords. Voici ce que fait le robot p=2,4 v=2,-3 pendant les premières secondes :

État initial :
...........
...........
...........
...........
..1........
...........
...........

Après 1 seconde :
...........
....1......
...........
...........
...........
...........
...........

Après 2 secondes :
...........
...........
...........
...........
...........
......1....
...........

Après 3 secondes :
...........
...........
...........1..
...........
...........
...........
...........

Après 4 secondes :
...........
...........
...........
...........
...........
...........
..........1

Après 5 secondes :
...........
...........
...........
.1.........
...........
...........
...........
Le L'historien ne peut pas attendre beaucoup plus longtemps, vous n'avez donc pas besoin de simuler les robots très longtemps. Où seront les robots après 100 secondes ?

Dans l'exemple ci-dessus, le nombre de robots sur chaque tuile après 100 secondes se présente comme suit :

......2..1.
...........
1..........
.11........
.....1.....
...12......
.1....1....
Pour déterminer la zone la plus sûre, comptez le nombre de robots dans chaque quadrant après 100 secondes. Les robots qui se trouvent exactement au milieu (horizontalement ou verticalement) ne comptent pas comme étant dans un quadrant, donc les seuls robots pertinents sont :

..... 2..1.
..... .....
1.... .....

..... .....
...12 .....
.1... 1....
Dans cet exemple, les quadrants contiennent 1, 3, 4 et 1 robot. En multipliant ces valeurs, on obtient un facteur de sécurité total de 12.

Prévoyez le mouvement des robots de votre liste dans un espace de 101 tuiles de large et 103 tuiles de haut. Quel sera le facteur de sécurité après exactement 100 secondes ?

Réponse :
